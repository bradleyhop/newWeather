(function(e){function t(t){for(var n,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,c=1;c<o.length;c++){var s=o[c];0!==r[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={app:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/newWeather/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"02a0":function(e,t,o){},"0f34":function(e,t,o){"use strict";o("02a0")},"19ae":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),r=(o("a4d3"),o("e01a"),{class:"content",role:"main"}),a={key:0,class:"prompt"},i=Object(n["e"])(" Click and allow location permission to get your current local weather conditions. "),c=Object(n["f"])("br",null,null,-1),s={key:1,class:"loading"},l={key:2},u={class:"error"},d={key:3},p={class:"description"},f={class:"locale"};function h(e,t,o,h,g,b){var w=Object(n["j"])("Footer");return Object(n["g"])(),Object(n["c"])(n["a"],null,[Object(n["f"])("div",r,[g.loading||g.locale||g.errorMessage?Object(n["d"])("",!0):(Object(n["g"])(),Object(n["c"])("div",a,[i,c,Object(n["f"])("button",{onClick:t[1]||(t[1]=function(){return b.getLocation.apply(b,arguments)}),class:"loadButton"}," CLICK ME ")])),g.loading&&!g.errorMessage?(Object(n["g"])(),Object(n["c"])("div",s," Loading... ")):g.errorMessage?(Object(n["g"])(),Object(n["c"])("div",l,[Object(n["f"])("div",u,Object(n["k"])(g.errorMessage),1),Object(n["f"])("div",null,[Object(n["f"])("button",{onClick:t[2]||(t[2]=function(){return b.getLocation.apply(b,arguments)}),class:"loadButton"}," TRY AGAIN ")])])):g.locale?(Object(n["g"])(),Object(n["c"])("div",d,[Object(n["f"])("div",p,Object(n["k"])(g.description),1),Object(n["f"])("div",f,Object(n["k"])(g.locale),1),Object(n["f"])("div",{onClick:t[3]||(t[3]=function(){return b.convertTemp.apply(b,arguments)}),class:"temperature"},Object(n["k"])(g.temp)+"°"+Object(n["k"])(g.tempScale),1),Object(n["f"])("i",{class:g.icon},null,2)])):Object(n["d"])("",!0)]),Object(n["f"])("footer",null,[Object(n["f"])(w)])],64)}o("99af"),o("b0c0"),o("b680"),o("d3b7");var g=Object(n["l"])("data-v-13b4a2e8");Object(n["i"])("data-v-13b4a2e8");var b={class:"footer-content"},w=Object(n["f"])("div",{class:"footer-copy"},[Object(n["f"])("a",{href:"https://github.com/bradleyhop/",rel:"noopener noreferrer",target:"_blank"}," Bradley Smith "),Object(n["e"])(" © 2020 "),Object(n["f"])("br"),Object(n["f"])("a",{href:"https://github.com/bradleyhop/bradleyhop.github.io/tree/master/new-weather-app",rel:"noopener noreferrer",target:"_blank"}," Project Repo at Github ")],-1);Object(n["h"])();var O=g((function(e,t,o,r,a,i){return Object(n["g"])(),Object(n["c"])("div",b,[w])}));o("0f34");const m={};m.render=O,m.__scopeId="data-v-13b4a2e8";var j=m,v={name:"App",components:{Footer:j},data:function(){return{loading:!1,latitude:void 0,longitude:void 0,locale:"",description:"",temp:void 0,tempScale:"C",icon:"",timeOfDay:"",errorMessage:""}},methods:{getLocation:function(){var e=this;this.loading=!0,this.errorMessage&&(this.errorMessage=""),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.latitude=t.coords.latitude.toFixed(4),e.longitude=t.coords.longitude.toFixed(4),e.getWeather()}),(function(t){var o={1:"Please change your settings to allow access to your location to retrieve current\n                weather conditions in your area!!",2:"Location information is unavailable.",3:"The request to get user location timed out."};e.loading=!1,e.errorMessage=o[t.code]||"An unkown error occured."})):(this.loading=!1,this.errorMessage="Geolocation not supported by this browser.")},getWeather:function(){var e=this,t="https://fcc-weather-api.glitch.me/api/current?lat=".concat(this.latitude,"&lon=").concat(this.longitude);fetch(t).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.statusText)})).then((function(t){if(t.error)e.loading=!1,e.errorMessage="Data return error: ".concat(t.error);else if("Shuzenji"===t.name)e.loading=!1,e.errorMessage="Doh! The api returned the wrong data.";else{var o=(new Date).getTime()/1e3;e.locale=t.name.toUpperCase(),e.description=t.weather[0].description.toUpperCase(),e.temp=t.main.temp,e.convertTemp(),t.sys.sunrise<o&&o<t.sys.sunset?e.timeOfDay="day":e.timeOfDay="night",e.showIcon(t.weather[0].main)}e.loading=!1})).catch((function(t){e.loading=!1,e.errorMessage="Error in getting data: ".concat(t,".")}))},convertTemp:function(){"F"===this.tempScale?(this.tempScale="C",this.temp=Math.round(5*(this.temp-32)/9)):(this.tempScale="F",this.temp=Math.round(9*this.temp/5+32))},showIcon:function(e){var t={day:{Thunderstorm:"wi-day-thunderstorm",Drizzle:"wi-day-showers",Rain:"wi-day-rain",Snow:"wi-day-snow",Clear:"wi-day-sunny",Clouds:"wi-day-cloudy",Haze:"wi-day-haze",Fog:"wi-day-fog",Mist:"wi-day-sprinkle",Smoke:"wi-smoke",Sand:"wi-sandstorm",Dust:"wi-dust",Ash:"wi-volcano",Squall:"wind",Tornado:"wi-tornado"},night:{Thunderstorm:"wi-night-alt-thunderstorm",Drizzle:"wi-night-alt-showers",Rain:"wi-night-alt-rain",Snow:"wi-night-alt-snow",Mist:"wi-night-alt-sprinkle",Haze:"wi-day-haze",Fog:"wi-night-alt-fog",Sand:"wi-sandstorm",Tornado:"wi-tornado",Clear:"wi-night-clear",Clouds:"wi-night-alt-cloudy",Smoke:"wi-smoke",Dust:"wi-dust",Ash:"wi-volcano",Squall:"wind"}};this.icon="wi ".concat(t[this.timeOfDay][e]||"na")},reloadPage:function(){window.location.reload()}}};o("9cdc");v.render=h;var y=v;o("19ae"),Object(n["b"])(y).mount("#app")},"9cdc":function(e,t,o){"use strict";o("c701")},c701:function(e,t,o){}});
//# sourceMappingURL=app.edf7a1d3.js.map